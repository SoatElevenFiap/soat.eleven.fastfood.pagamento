namespace:
  name: fastfood
  create: true
  labels:
    name: fastfood  # Necess√°rio para NetworkPolicy funcionar com Azure Network Policy

replicaCount: 1

image:
  repository: acrfastfoodpostech.azurecr.io/fastfood/app
  pullPolicy: IfNotPresent
  tag: "latest"

imagePullSecrets: []

nameOverride: ""
fullnameOverride: ""

serviceAccount:
  create: false
  annotations: {}
  name: ""

podAnnotations: {}

podSecurityContext: {}

securityContext: {}

service:
  type: ClusterIP
  port: 80
  targetPort: 8000
  name: pagamento

ingress:
  enabled: false
  className: ""
  annotations: {}
  hosts:
    - host: pagamento.local
      paths:
        - path: /
          pathType: Prefix
  tls: []

resources:
  limits:
    cpu: 500m
    memory: 512Mi
  requests:
    cpu: 250m
    memory: 256Mi

livenessProbe:
  httpGet:
    path: /health-check
    port: 8000
  initialDelaySeconds: 40
  periodSeconds: 30
  timeoutSeconds: 10
  failureThreshold: 3

readinessProbe:
  httpGet:
    path: /health-check
    port: 8000
  initialDelaySeconds: 10
  periodSeconds: 5
  timeoutSeconds: 3
  failureThreshold: 3

nodeSelector: {}

tolerations: []

affinity: {}

env:
  UVICORN_WORKERS: "4"
  UVICORN_HOST: "0.0.0.0"
  UVICORN_PORT: "8000"
  UVICORN_LOG_LEVEL: "info"
  # Azure Key Vault configuration
  # IMPORTANTE: Configure estes valores via --set no deploy ou atualize aqui
  # AZURE_KEY_VAULT_URL: "https://kv-ms-prod-001-filipe.vault.azure.net/"
  # AZURE_KEY_VAULT_ENABLED: "true"
  # ENVIRONMENT: "prod"

networkPolicy:
  enabled: true
  allowedNamespaces:
    - name: fastfood
    - name: gateway
    - name: istio-system
    - name: kong

